document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("search-input"),n=document.getElementById("loader"),l=document.getElementById("error-message"),a=document.getElementById("results-body"),d=document.getElementById("no-results"),e=null;document.addEventListener("keyup",function(e){"Escape"===e.key&&(t.value="",a.innerHTML="",d.style.display="none",l.style.display="none",n.style.display="none")}),t.addEventListener("input",function(){clearTimeout(e),e=setTimeout(()=>{var e=t.value.trim();e?async function(e){n.style.display="block",l.style.display="none",d.style.display="none",a.innerHTML="";e=`https://itunes.apple.com/search?term=${e}&entity=song`;try{var t=await(await fetch(e)).json();0<t.results.length?t.results.forEach(e=>{var t=document.createElement("tr"),n=document.createElement("td"),l=document.createElement("td");n.textContent=e.trackName,l.textContent=e.artistName,t.appendChild(n),t.appendChild(l),a.appendChild(t)}):d.style.display="block"}catch(e){l.textContent="An error occurred while fetching the data.",l.style.display="block"}finally{n.style.display="none"}}(e):(a.innerHTML="",d.style.display="block")},300)})});